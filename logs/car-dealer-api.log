2025-07-15 06:15:06 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-15 06:15:06 DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2025-07-15 06:15:06 DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2025-07-15 06:15:06 DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2025-07-15 06:15:06 DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2025-07-15 06:15:06 DEBUG o.h.v.i.e.r.TraversableResolvers - Found jakarta.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2025-07-15 06:15:06 DEBUG o.h.v.i.e.r.TraversableResolvers - Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2025-07-15 06:15:06 DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2025-07-15 06:15:06 INFO  c.c.r.RestfulApiApplication - Starting RestfulApiApplication v0.0.1-SNAPSHOT using Java 24 with PID 1 (/restful-api/restful-api.jar started by root in /restful-api)
2025-07-15 06:15:06 INFO  c.c.r.RestfulApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-15 06:15:06 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2025-07-15 06:15:06 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2025-07-15 06:15:06 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.JPATraversableResolver as ValidatorFactory-scoped traversable resolver.
2025-07-15 06:15:06 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2025-07-15 06:15:06 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2025-07-15 06:15:06 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2025-07-15 06:15:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-15 06:15:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-15 06:15:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 JPA repository interfaces.
2025-07-15 06:15:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-15 06:15:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-15 06:15:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-15 06:15:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-15 06:15:09 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-15 06:15:09 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-15 06:15:09 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-15 06:15:09 INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-07-15 06:15:09 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2742 ms
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: api
  delegate: true
----------> Parent Classloader:
org.springframework.boot.loader.launch.LaunchedClassLoader@36baf30c
 ...
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: api
  delegate: true
----------> Parent Classloader:
org.springframework.boot.loader.launch.LaunchedClassLoader@36baf30c
 ...
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.1__create_roles_table.sql
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.2__create_users_table.sql
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.3__create_user_roles_table.sql
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.4__create_permissions_table.sql
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.5__create_role_permissions_table.sql
2025-07-15 06:15:09 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-07-15 06:15:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-15 06:15:10 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5d27b4c1
2025-07-15 06:15:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.1__create_roles_table.sql
2025-07-15 06:15:10 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.2__create_users_table.sql
2025-07-15 06:15:10 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.3__create_user_roles_table.sql
2025-07-15 06:15:10 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.5__create_role_permissions_table.sql
2025-07-15 06:15:10 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.4__create_permissions_table.sql
2025-07-15 06:15:10 DEBUG o.f.c.i.d.DatabaseTypeRegister - Multiple databases found that handle url 'jdbc:postgresql://postgresql:5432/cardealer_db': CockroachDB,PostgreSQL
2025-07-15 06:15:10 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://postgresql:5432/cardealer_db (PostgreSQL 17.5)
2025-07-15 06:15:10 DEBUG org.flywaydb.core.FlywayExecutor - Database Type: PostgreSQL
2025-07-15 06:15:10 DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.7.7
2025-07-15 06:15:10 DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-07-15 06:15:10 DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-07-15 06:15:10 DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-07-15 06:15:10 DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-07-15 06:15:10 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:15:10 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:15:10 INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-07-15 06:15:10 INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.040s)
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-07-15 06:15:10 INFO  org.flywaydb.core.Flyway - All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2025-07-15 06:15:10 INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
2025-07-15 06:15:10 DEBUG o.f.core.internal.parser.Parser - Parsing  ...
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 14: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Created Schema History table "public"."flyway_schema_history"
2025-07-15 06:15:10 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:15:10 INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2025-07-15 06:15:10 DEBUG o.f.core.internal.parser.Parser - Parsing V1.1__create_roles_table.sql ...
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table roles (
  id varchar(20) primary key not null,
  name varchar(50) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 12: create index name_idx on roles(name)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: create index status_idx on roles(status)
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.1 - create roles table" ...
2025-07-15 06:15:10 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.1 - create roles table"
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table roles (
  id varchar(20) primary key not null,
  name varchar(50) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index name_idx on roles(name)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index status_idx on roles(status)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.1 - create roles table"
2025-07-15 06:15:10 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:15:10 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:15:10 DEBUG o.f.core.internal.parser.Parser - Parsing V1.2__create_users_table.sql ...
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table users (
  id varchar(20) primary key not null,
  fullname varchar(150) not null,
  bio text null,
  email varchar(150) unique not null,
  password varchar(100) not null,
  phone_number varchar(16) unique not null,
  address text null,
  account_status varchar(20) null default 'active',
  active_status varchar(20) null default 'offline',
  avatar_url text null,
  password_change_at timestamptz,
  last_login_at timestamptz,
  last_edited_by varchar(150) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 20: comment on column users.bio is 'User biography.'
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 21: comment on column users.avatar_url is 'User avatar or image URL link.'
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 23: create index fullname_idx on users(fullname)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 24: create index email_idx on users(email)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 25: create index phone_number_idx on users(phone_number)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 26: create index account_status_idx on users(account_status)
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.2 - create users table" ...
2025-07-15 06:15:10 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.2 - create users table"
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table users (
  id varchar(20) primary key not null,
  fullname varchar(150) not null,
  bio text null,
  email varchar(150) unique not null,
  password varchar(100) not null,
  phone_number varchar(16) unique not null,
  address text null,
  account_status varchar(20) null default 'active',
  active_status varchar(20) null default 'offline',
  avatar_url text null,
  password_change_at timestamptz,
  last_login_at timestamptz,
  last_edited_by varchar(150) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: comment on column users.bio is 'User biography.'
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: comment on column users.avatar_url is 'User avatar or image URL link.'
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index fullname_idx on users(fullname)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index email_idx on users(email)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index phone_number_idx on users(phone_number)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index account_status_idx on users(account_status)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.2 - create users table"
2025-07-15 06:15:10 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:15:10 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:15:10 DEBUG o.f.core.internal.parser.Parser - Parsing V1.3__create_user_roles_table.sql ...
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table user_roles (
  user_id varchar(20) not null,
  role_id varchar(20) not null,
  
  constraint pk_user_roles primary key(user_id, role_id),
  constraint fk_user_id foreign key (user_id) references users(id) on delete cascade on update cascade,
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade
)
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.3 - create user roles table" ...
2025-07-15 06:15:10 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.3 - create user roles table"
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table user_roles (
  user_id varchar(20) not null,
  role_id varchar(20) not null,
  
  constraint pk_user_roles primary key(user_id, role_id),
  constraint fk_user_id foreign key (user_id) references users(id) on delete cascade on update cascade,
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade
)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.3 - create user roles table"
2025-07-15 06:15:10 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:15:10 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:15:10 DEBUG o.f.core.internal.parser.Parser - Parsing V1.4__create_permissions_table.sql ...
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table permissions (
  id varchar(20) primary key not null,
  name varchar(100) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 12: create index name_idx on permissions(name)
2025-07-15 06:15:10 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: create index status_idx on permissions(status)
2025-07-15 06:15:10 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.4 - create permissions table" ...
2025-07-15 06:15:10 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.4 - create permissions table"
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table permissions (
  id varchar(20) primary key not null,
  name varchar(100) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:15:10 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index name_idx on permissions(name)
2025-07-15 06:15:10 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Rolling back transaction...
2025-07-15 06:15:10 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Transaction rolled back
2025-07-15 06:15:10 ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.4 - create permissions table" failed! Changes successfully rolled back.
2025-07-15 06:15:10 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Rolling back transaction...
2025-07-15 06:15:10 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Transaction rolled back
2025-07-15 06:15:10 DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 39 of 57M
2025-07-15 06:15:10 ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthFilter' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/handlers/JwtAuthFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
2025-07-15 06:15:10 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-15 06:15:10 WARN  o.a.c.loader.WebappClassLoaderBase - The web application [api] appears to have started a thread named [HikariPool-1:housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:271)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1802)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1166)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:883)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1021)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:619)
 java.base/java.lang.Thread.run(Thread.java:1447)
2025-07-15 06:15:10 WARN  o.a.c.loader.WebappClassLoaderBase - The web application [api] appears to have started a thread named [HikariPool-1:connection-adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.security.provider.SHA2.implDigest(SHA2.java:110)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:205)
 java.base/java.security.MessageDigest$Delegate.engineDigest(MessageDigest.java:681)
 java.base/java.security.MessageDigest.digest(MessageDigest.java:414)
 java.base/com.sun.crypto.provider.HmacCore.engineDoFinal(HmacCore.java:235)
 java.base/javax.crypto.Mac.doFinal(Mac.java:580)
 java.base/javax.crypto.Mac.doFinal(Mac.java:623)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:204)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:118)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.CryptoUtil.hi(CryptoUtil.java:70)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanism.saltedPassword(ScramMechanism.java:226)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:46)
 org.postgresql.shaded.com.ongres.scram.client.ClientFinalProcessor.<init>(ClientFinalProcessor.java:72)
 org.postgresql.shaded.com.ongres.scram.client.ServerFirstProcessor.clientFinalProcessor(ServerFirstProcessor.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramClient.clientFinalMessage(ScramClient.java:185)
 org.postgresql.core.v3.ScramAuthenticator.handleAuthenticationSASLContinue(ScramAuthenticator.java:160)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:954)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:234)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:289)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:57)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:277)
 org.postgresql.Driver.makeConnection(Driver.java:448)
 org.postgresql.Driver.connect(Driver.java:298)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:139)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:368)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:205)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:483)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:747)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1095)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:619)
 java.base/java.lang.Thread.run(Thread.java:1447)
2025-07-15 06:15:10 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-07-15 06:15:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-15 06:15:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-15 06:15:10 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-15 06:15:10 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.car_dealer_web.restful_api.RestfulApiApplication.main(RestfulApiApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthFilter' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/handlers/JwtAuthFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 18 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 59 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 95 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.4__create_permissions_table.sql failed
------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "name_idx" already exists
Location   : db/migration/V1.4__create_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.4__create_permissions_table.sql)
Line       : 12
Statement  : create index name_idx on permissions(name)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 111 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.4__create_permissions_table.sql failed
------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "name_idx" already exists
Location   : db/migration/V1.4__create_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.4__create_permissions_table.sql)
Line       : 12
Statement  : create index name_idx on permissions(name)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 120 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.4__create_permissions_table.sql failed
------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "name_idx" already exists
Location   : db/migration/V1.4__create_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.4__create_permissions_table.sql)
Line       : 12
Statement  : create index name_idx on permissions(name)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 139 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "name_idx" already exists
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 145 common frames omitted
2025-07-15 06:21:04 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-15 06:21:04 DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2025-07-15 06:21:04 DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2025-07-15 06:21:04 DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2025-07-15 06:21:04 DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2025-07-15 06:21:04 DEBUG o.h.v.i.e.r.TraversableResolvers - Found jakarta.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2025-07-15 06:21:04 DEBUG o.h.v.i.e.r.TraversableResolvers - Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2025-07-15 06:21:04 DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2025-07-15 06:21:04 INFO  c.c.r.RestfulApiApplication - Starting RestfulApiApplication v0.0.1-SNAPSHOT using Java 24 with PID 1 (/restful-api/restful-api.jar started by root in /restful-api)
2025-07-15 06:21:04 INFO  c.c.r.RestfulApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-15 06:21:04 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2025-07-15 06:21:04 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2025-07-15 06:21:04 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.JPATraversableResolver as ValidatorFactory-scoped traversable resolver.
2025-07-15 06:21:04 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2025-07-15 06:21:04 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2025-07-15 06:21:04 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2025-07-15 06:21:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-15 06:21:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-15 06:21:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 JPA repository interfaces.
2025-07-15 06:21:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-15 06:21:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-15 06:21:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-15 06:21:08 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-15 06:21:08 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-15 06:21:08 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-15 06:21:08 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-15 06:21:08 INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-07-15 06:21:08 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3454 ms
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: api
  delegate: true
----------> Parent Classloader:
org.springframework.boot.loader.launch.LaunchedClassLoader@36baf30c
 ...
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: api
  delegate: true
----------> Parent Classloader:
org.springframework.boot.loader.launch.LaunchedClassLoader@36baf30c
 ...
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.1__create_roles_table.sql
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.2__create_users_table.sql
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.3__create_user_roles_table.sql
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.4__create_permissions_table.sql
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.5__create_role_permissions_table.sql
2025-07-15 06:21:08 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-07-15 06:21:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-15 06:21:09 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@270f28cf
2025-07-15 06:21:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.1__create_roles_table.sql
2025-07-15 06:21:09 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.2__create_users_table.sql
2025-07-15 06:21:09 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.3__create_user_roles_table.sql
2025-07-15 06:21:09 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.5__create_role_permissions_table.sql
2025-07-15 06:21:09 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.4__create_permissions_table.sql
2025-07-15 06:21:09 DEBUG o.f.c.i.d.DatabaseTypeRegister - Multiple databases found that handle url 'jdbc:postgresql://postgresql:5432/cardealer_db': CockroachDB,PostgreSQL
2025-07-15 06:21:09 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://postgresql:5432/cardealer_db (PostgreSQL 17.5)
2025-07-15 06:21:09 DEBUG org.flywaydb.core.FlywayExecutor - Database Type: PostgreSQL
2025-07-15 06:21:09 DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.7.7
2025-07-15 06:21:09 DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-07-15 06:21:09 DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-07-15 06:21:09 DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-07-15 06:21:09 DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-07-15 06:21:09 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:21:09 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:21:09 INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-07-15 06:21:09 INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.052s)
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-07-15 06:21:09 INFO  org.flywaydb.core.Flyway - All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2025-07-15 06:21:09 INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
2025-07-15 06:21:09 DEBUG o.f.core.internal.parser.Parser - Parsing  ...
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 14: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Created Schema History table "public"."flyway_schema_history"
2025-07-15 06:21:09 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:21:09 INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2025-07-15 06:21:09 DEBUG o.f.core.internal.parser.Parser - Parsing V1.1__create_roles_table.sql ...
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table roles (
  id varchar(20) primary key not null,
  name varchar(50) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 12: create index name_idx on roles(name)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: create index status_idx on roles(status)
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.1 - create roles table" ...
2025-07-15 06:21:09 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.1 - create roles table"
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table roles (
  id varchar(20) primary key not null,
  name varchar(50) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index name_idx on roles(name)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index status_idx on roles(status)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.1 - create roles table"
2025-07-15 06:21:09 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:21:09 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:21:09 DEBUG o.f.core.internal.parser.Parser - Parsing V1.2__create_users_table.sql ...
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table users (
  id varchar(20) primary key not null,
  fullname varchar(150) not null,
  bio text null,
  email varchar(150) unique not null,
  password varchar(100) not null,
  phone_number varchar(16) unique not null,
  address text null,
  account_status varchar(20) null default 'active',
  active_status varchar(20) null default 'offline',
  avatar_url text null,
  password_change_at timestamptz,
  last_login_at timestamptz,
  last_edited_by varchar(150) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 20: comment on column users.bio is 'User biography.'
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 21: comment on column users.avatar_url is 'User avatar or image URL link.'
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 23: create index fullname_idx on users(fullname)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 24: create index email_idx on users(email)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 25: create index phone_number_idx on users(phone_number)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 26: create index account_status_idx on users(account_status)
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.2 - create users table" ...
2025-07-15 06:21:09 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.2 - create users table"
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table users (
  id varchar(20) primary key not null,
  fullname varchar(150) not null,
  bio text null,
  email varchar(150) unique not null,
  password varchar(100) not null,
  phone_number varchar(16) unique not null,
  address text null,
  account_status varchar(20) null default 'active',
  active_status varchar(20) null default 'offline',
  avatar_url text null,
  password_change_at timestamptz,
  last_login_at timestamptz,
  last_edited_by varchar(150) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: comment on column users.bio is 'User biography.'
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: comment on column users.avatar_url is 'User avatar or image URL link.'
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index fullname_idx on users(fullname)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index email_idx on users(email)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index phone_number_idx on users(phone_number)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index account_status_idx on users(account_status)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.2 - create users table"
2025-07-15 06:21:09 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:21:09 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:21:09 DEBUG o.f.core.internal.parser.Parser - Parsing V1.3__create_user_roles_table.sql ...
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table user_roles (
  user_id varchar(20) not null,
  role_id varchar(20) not null,
  
  constraint pk_user_roles primary key(user_id, role_id),
  constraint fk_user_id foreign key (user_id) references users(id) on delete cascade on update cascade,
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade
)
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.3 - create user roles table" ...
2025-07-15 06:21:09 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.3 - create user roles table"
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table user_roles (
  user_id varchar(20) not null,
  role_id varchar(20) not null,
  
  constraint pk_user_roles primary key(user_id, role_id),
  constraint fk_user_id foreign key (user_id) references users(id) on delete cascade on update cascade,
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade
)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.3 - create user roles table"
2025-07-15 06:21:09 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:21:09 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:21:09 DEBUG o.f.core.internal.parser.Parser - Parsing V1.4__create_permissions_table.sql ...
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table permissions (
  id varchar(20) primary key not null,
  name varchar(100) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 12: create index name_idx on permissions(name)
2025-07-15 06:21:09 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: create index status_idx on permissions(status)
2025-07-15 06:21:09 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.4 - create permissions table" ...
2025-07-15 06:21:09 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.4 - create permissions table"
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table permissions (
  id varchar(20) primary key not null,
  name varchar(100) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:21:09 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index name_idx on permissions(name)
2025-07-15 06:21:09 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Rolling back transaction...
2025-07-15 06:21:09 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Transaction rolled back
2025-07-15 06:21:09 ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.4 - create permissions table" failed! Changes successfully rolled back.
2025-07-15 06:21:09 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Rolling back transaction...
2025-07-15 06:21:09 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Transaction rolled back
2025-07-15 06:21:09 DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 34 of 60M
2025-07-15 06:21:09 ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthFilter' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/handlers/JwtAuthFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
2025-07-15 06:21:09 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-15 06:21:09 WARN  o.a.c.loader.WebappClassLoaderBase - The web application [api] appears to have started a thread named [HikariPool-1:housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:271)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1802)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1166)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:883)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1021)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:619)
 java.base/java.lang.Thread.run(Thread.java:1447)
2025-07-15 06:21:09 WARN  o.a.c.loader.WebappClassLoaderBase - The web application [api] appears to have started a thread named [HikariPool-1:connection-adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.security.provider.ByteArrayAccess.i2bBig(ByteArrayAccess.java:126)
 java.base/sun.security.provider.SHA2.implDigest(SHA2.java:116)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:205)
 java.base/java.security.MessageDigest$Delegate.engineDigest(MessageDigest.java:681)
 java.base/java.security.MessageDigest.digest(MessageDigest.java:414)
 java.base/com.sun.crypto.provider.HmacCore.engineDoFinal(HmacCore.java:235)
 java.base/javax.crypto.Mac.doFinal(Mac.java:580)
 java.base/javax.crypto.Mac.doFinal(Mac.java:623)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:204)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:118)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.CryptoUtil.hi(CryptoUtil.java:70)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanism.saltedPassword(ScramMechanism.java:226)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:46)
 org.postgresql.shaded.com.ongres.scram.client.ClientFinalProcessor.<init>(ClientFinalProcessor.java:72)
 org.postgresql.shaded.com.ongres.scram.client.ServerFirstProcessor.clientFinalProcessor(ServerFirstProcessor.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramClient.clientFinalMessage(ScramClient.java:185)
 org.postgresql.core.v3.ScramAuthenticator.handleAuthenticationSASLContinue(ScramAuthenticator.java:160)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:954)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:234)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:289)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:57)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:277)
 org.postgresql.Driver.makeConnection(Driver.java:448)
 org.postgresql.Driver.connect(Driver.java:298)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:139)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:368)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:205)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:483)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:747)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1095)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:619)
 java.base/java.lang.Thread.run(Thread.java:1447)
2025-07-15 06:21:09 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-07-15 06:21:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-15 06:21:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-15 06:21:09 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-15 06:21:09 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.car_dealer_web.restful_api.RestfulApiApplication.main(RestfulApiApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthFilter' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/handlers/JwtAuthFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 18 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 59 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 95 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.4__create_permissions_table.sql failed
------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "name_idx" already exists
Location   : db/migration/V1.4__create_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.4__create_permissions_table.sql)
Line       : 12
Statement  : create index name_idx on permissions(name)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 111 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.4__create_permissions_table.sql failed
------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "name_idx" already exists
Location   : db/migration/V1.4__create_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.4__create_permissions_table.sql)
Line       : 12
Statement  : create index name_idx on permissions(name)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 120 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.4__create_permissions_table.sql failed
------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "name_idx" already exists
Location   : db/migration/V1.4__create_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.4__create_permissions_table.sql)
Line       : 12
Statement  : create index name_idx on permissions(name)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 139 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "name_idx" already exists
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 145 common frames omitted
2025-07-15 06:29:49 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-15 06:29:49 DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2025-07-15 06:29:49 DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2025-07-15 06:29:49 DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2025-07-15 06:29:49 DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2025-07-15 06:29:49 DEBUG o.h.v.i.e.r.TraversableResolvers - Found jakarta.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2025-07-15 06:29:49 DEBUG o.h.v.i.e.r.TraversableResolvers - Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2025-07-15 06:29:49 DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2025-07-15 06:29:49 INFO  c.c.r.RestfulApiApplication - Starting RestfulApiApplication v0.0.1-SNAPSHOT using Java 24 with PID 1 (/restful-api/restful-api.jar started by root in /restful-api)
2025-07-15 06:29:49 INFO  c.c.r.RestfulApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-15 06:29:49 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2025-07-15 06:29:49 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2025-07-15 06:29:49 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.JPATraversableResolver as ValidatorFactory-scoped traversable resolver.
2025-07-15 06:29:49 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2025-07-15 06:29:49 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2025-07-15 06:29:49 DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2025-07-15 06:29:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-15 06:29:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-15 06:29:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 JPA repository interfaces.
2025-07-15 06:29:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-15 06:29:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-15 06:29:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-15 06:29:53 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-15 06:29:53 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-15 06:29:53 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-15 06:29:53 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-15 06:29:53 INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-07-15 06:29:53 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3502 ms
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: api
  delegate: true
----------> Parent Classloader:
org.springframework.boot.loader.launch.LaunchedClassLoader@36baf30c
 ...
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: api
  delegate: true
----------> Parent Classloader:
org.springframework.boot.loader.launch.LaunchedClassLoader@36baf30c
 ...
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.1__create_roles_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.2__create_users_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.3__create_user_roles_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.4__create_permissions_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1.5__create_role_permissions_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-07-15 06:29:53 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-15 06:29:53 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b508371
2025-07-15 06:29:53 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.1__create_roles_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.2__create_users_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.3__create_user_roles_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.5__create_role_permissions_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1.4__create_permissions_table.sql
2025-07-15 06:29:53 DEBUG o.f.c.i.d.DatabaseTypeRegister - Multiple databases found that handle url 'jdbc:postgresql://postgresql:5432/cardealer_db': CockroachDB,PostgreSQL
2025-07-15 06:29:53 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://postgresql:5432/cardealer_db (PostgreSQL 17.5)
2025-07-15 06:29:53 DEBUG org.flywaydb.core.FlywayExecutor - Database Type: PostgreSQL
2025-07-15 06:29:53 DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.7.7
2025-07-15 06:29:53 DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-07-15 06:29:53 DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-07-15 06:29:53 DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-07-15 06:29:53 DEBUG org.flywaydb.core.FlywayExecutor - Scanning for script callbacks ...
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-07-15 06:29:53 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.1__create_roles_table.sql (filename: V1.1__create_roles_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.2__create_users_table.sql (filename: V1.2__create_users_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.3__create_user_roles_table.sql (filename: V1.3__create_user_roles_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.5__create_role_permissions_table.sql (filename: V1.5__create_role_permissions_table.sql)
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/ (filename: )
2025-07-15 06:29:53 DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1.4__create_permissions_table.sql (filename: V1.4__create_permissions_table.sql)
2025-07-15 06:29:53 INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-07-15 06:29:53 INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.035s)
2025-07-15 06:29:53 DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-07-15 06:29:53 INFO  org.flywaydb.core.Flyway - All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2025-07-15 06:29:53 INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
2025-07-15 06:29:53 DEBUG o.f.core.internal.parser.Parser - Parsing  ...
2025-07-15 06:29:53 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2025-07-15 06:29:53 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2025-07-15 06:29:53 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 14: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: CREATE TABLE "public"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INTEGER,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT now(),
    "execution_time" INTEGER NOT NULL,
    "success" BOOLEAN NOT NULL
)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: ALTER TABLE "public"."flyway_schema_history" ADD CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: CREATE INDEX "flyway_schema_history_s_idx" ON "public"."flyway_schema_history" ("success")
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Created Schema History table "public"."flyway_schema_history"
2025-07-15 06:29:54 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:29:54 INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2025-07-15 06:29:54 DEBUG o.f.core.internal.parser.Parser - Parsing V1.1__create_roles_table.sql ...
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table roles (
  id varchar(20) primary key not null,
  name varchar(50) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 12: create index role_name_idx on roles(name)
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: create index role_status_idx on roles(status)
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.1 - create roles table" ...
2025-07-15 06:29:54 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.1 - create roles table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table roles (
  id varchar(20) primary key not null,
  name varchar(50) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index role_name_idx on roles(name)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index role_status_idx on roles(status)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.1 - create roles table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:29:54 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:29:54 DEBUG o.f.core.internal.parser.Parser - Parsing V1.2__create_users_table.sql ...
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table users (
  id varchar(20) primary key not null,
  fullname varchar(150) not null,
  bio text null,
  email varchar(150) unique not null,
  password varchar(100) not null,
  phone_number varchar(16) unique not null,
  address text null,
  account_status varchar(20) null default 'active',
  active_status varchar(20) null default 'offline',
  avatar_url text null,
  password_change_at timestamptz,
  last_login_at timestamptz,
  last_edited_by varchar(150) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 20: comment on column users.bio is 'User biography.'
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 21: comment on column users.avatar_url is 'User avatar or image URL link.'
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 23: create index user_fullname_idx on users(fullname)
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 24: create index user_email_idx on users(email)
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 25: create index user_phone_number_idx on users(phone_number)
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 26: create index user_account_status_idx on users(account_status)
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.2 - create users table" ...
2025-07-15 06:29:54 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.2 - create users table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table users (
  id varchar(20) primary key not null,
  fullname varchar(150) not null,
  bio text null,
  email varchar(150) unique not null,
  password varchar(100) not null,
  phone_number varchar(16) unique not null,
  address text null,
  account_status varchar(20) null default 'active',
  active_status varchar(20) null default 'offline',
  avatar_url text null,
  password_change_at timestamptz,
  last_login_at timestamptz,
  last_edited_by varchar(150) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: comment on column users.bio is 'User biography.'
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: comment on column users.avatar_url is 'User avatar or image URL link.'
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index user_fullname_idx on users(fullname)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index user_email_idx on users(email)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index user_phone_number_idx on users(phone_number)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index user_account_status_idx on users(account_status)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.2 - create users table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:29:54 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:29:54 DEBUG o.f.core.internal.parser.Parser - Parsing V1.3__create_user_roles_table.sql ...
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table user_roles (
  user_id varchar(20) not null,
  role_id varchar(20) not null,
  
  constraint pk_user_roles primary key(user_id, role_id),
  constraint fk_user_id foreign key (user_id) references users(id) on delete cascade on update cascade,
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade
)
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.3 - create user roles table" ...
2025-07-15 06:29:54 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.3 - create user roles table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table user_roles (
  user_id varchar(20) not null,
  role_id varchar(20) not null,
  
  constraint pk_user_roles primary key(user_id, role_id),
  constraint fk_user_id foreign key (user_id) references users(id) on delete cascade on update cascade,
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade
)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.3 - create user roles table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:29:54 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:29:54 DEBUG o.f.core.internal.parser.Parser - Parsing V1.4__create_permissions_table.sql ...
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table permissions (
  id varchar(20) primary key not null,
  name varchar(100) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 12: create index permission_name_idx on permissions(name)
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 13: create index permission_status_idx on permissions(status)
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.4 - create permissions table" ...
2025-07-15 06:29:54 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.4 - create permissions table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table permissions (
  id varchar(20) primary key not null,
  name varchar(100) unique not null,
  description text null,
  status varchar(20) null default 'active',
  last_edited_by varchar(100) null,
  created_at timestamptz default current_timestamp,
  updated_at timestamptz default current_timestamp,
  deleted_at timestamptz
)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index permission_name_idx on permissions(name)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create index permission_status_idx on permissions(status)
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - 0 rows affected
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Successfully completed migration of schema "public" to version "1.4 - create permissions table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.JdbcTableSchemaHistory - Schema History table "public"."flyway_schema_history" successfully updated to reflect changes
2025-07-15 06:29:54 DEBUG o.f.c.a.c.ClassicConfiguration - CherryPickConfigurationExtension not found
2025-07-15 06:29:54 DEBUG o.f.core.internal.parser.Parser - Parsing V1.5__create_role_permissions_table.sql ...
2025-07-15 06:29:54 DEBUG o.f.c.i.sqlscript.ParserSqlScript - Found statement at line 1: create table user_roles (
  role_id varchar(20) not null,
  permission_id varchar(20) not null,
  
  constraint pk_user_roles primary key(role_id, permission_id),
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade,
  constraint fk_permission_id foreign key (permission_id) references permissions(id) on delete cascade on update cascade
)
2025-07-15 06:29:54 DEBUG o.f.core.internal.command.DbMigrate - Starting migration of schema "public" to version "1.5 - create role permissions table" ...
2025-07-15 06:29:54 INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.5 - create role permissions table"
2025-07-15 06:29:54 DEBUG o.f.c.i.s.DefaultSqlScriptExecutor - Executing SQL: create table user_roles (
  role_id varchar(20) not null,
  permission_id varchar(20) not null,
  
  constraint pk_user_roles primary key(role_id, permission_id),
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade,
  constraint fk_permission_id foreign key (permission_id) references permissions(id) on delete cascade on update cascade
)
2025-07-15 06:29:54 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Rolling back transaction...
2025-07-15 06:29:54 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Transaction rolled back
2025-07-15 06:29:54 ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.5 - create role permissions table" failed! Changes successfully rolled back.
2025-07-15 06:29:54 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Rolling back transaction...
2025-07-15 06:29:54 DEBUG o.f.c.i.j.TransactionalExecutionTemplate - Transaction rolled back
2025-07-15 06:29:54 DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 28 of 64M
2025-07-15 06:29:54 ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthFilter' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/handlers/JwtAuthFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
2025-07-15 06:29:54 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-15 06:29:54 WARN  o.a.c.loader.WebappClassLoaderBase - The web application [api] appears to have started a thread named [HikariPool-1:housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:271)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1802)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1166)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:883)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1021)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:619)
 java.base/java.lang.Thread.run(Thread.java:1447)
2025-07-15 06:29:54 WARN  o.a.c.loader.WebappClassLoaderBase - The web application [api] appears to have started a thread named [HikariPool-1:connection-adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.invoke.VarHandleByteArrayAsInts$ArrayHandle.set(VarHandleByteArrayAsInts.java:118)
 java.base/sun.security.provider.ByteArrayAccess.i2bBig4(ByteArrayAccess.java:132)
 java.base/sun.security.provider.SHA2.implDigest(SHA2.java:113)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:205)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:185)
 java.base/java.security.MessageDigest$Delegate.engineDigest(MessageDigest.java:675)
 java.base/java.security.MessageDigest.digest(MessageDigest.java:387)
 java.base/com.sun.crypto.provider.HmacCore.engineDoFinal(HmacCore.java:228)
 java.base/javax.crypto.Mac.doFinal(Mac.java:580)
 java.base/javax.crypto.Mac.doFinal(Mac.java:623)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:204)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:118)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.CryptoUtil.hi(CryptoUtil.java:70)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanism.saltedPassword(ScramMechanism.java:226)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:46)
 org.postgresql.shaded.com.ongres.scram.client.ClientFinalProcessor.<init>(ClientFinalProcessor.java:72)
 org.postgresql.shaded.com.ongres.scram.client.ServerFirstProcessor.clientFinalProcessor(ServerFirstProcessor.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramClient.clientFinalMessage(ScramClient.java:185)
 org.postgresql.core.v3.ScramAuthenticator.handleAuthenticationSASLContinue(ScramAuthenticator.java:160)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:954)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:234)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:289)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:57)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:277)
 org.postgresql.Driver.makeConnection(Driver.java:448)
 org.postgresql.Driver.connect(Driver.java:298)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:139)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:368)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:205)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:483)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:747)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1095)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:619)
 java.base/java.lang.Thread.run(Thread.java:1447)
2025-07-15 06:29:54 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-07-15 06:29:54 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-15 06:29:54 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-15 06:29:54 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-15 06:29:54 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.car_dealer_web.restful_api.RestfulApiApplication.main(RestfulApiApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthFilter' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/handlers/JwtAuthFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 18 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appConfig' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/configs/AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 59 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRepository' defined in URL [jar:nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/com/car_dealer_web/restful_api/repositories/UserRepository.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_AWC_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 95 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.5__create_role_permissions_table.sql failed
-----------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "user_roles" already exists
Location   : db/migration/V1.5__create_role_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.5__create_role_permissions_table.sql)
Line       : 1
Statement  : create table user_roles (
  role_id varchar(20) not null,
  permission_id varchar(20) not null,
  
  constraint pk_user_roles primary key(role_id, permission_id),
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade,
  constraint fk_permission_id foreign key (permission_id) references permissions(id) on delete cascade on update cascade
)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 111 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.5__create_role_permissions_table.sql failed
-----------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "user_roles" already exists
Location   : db/migration/V1.5__create_role_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.5__create_role_permissions_table.sql)
Line       : 1
Statement  : create table user_roles (
  role_id varchar(20) not null,
  permission_id varchar(20) not null,
  
  constraint pk_user_roles primary key(role_id, permission_id),
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade,
  constraint fk_permission_id foreign key (permission_id) references permissions(id) on delete cascade on update cascade
)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 120 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.5__create_role_permissions_table.sql failed
-----------------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERROR: relation "user_roles" already exists
Location   : db/migration/V1.5__create_role_permissions_table.sql (/restful-api/nested:/restful-api/restful-api.jar/!BOOT-INF/classes/!/db/migration/V1.5__create_role_permissions_table.sql)
Line       : 1
Statement  : create table user_roles (
  role_id varchar(20) not null,
  permission_id varchar(20) not null,
  
  constraint pk_user_roles primary key(role_id, permission_id),
  constraint fk_role_id foreign key (role_id) references roles(id) on delete cascade on update cascade,
  constraint fk_permission_id foreign key (permission_id) references permissions(id) on delete cascade on update cascade
)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 139 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "user_roles" already exists
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 145 common frames omitted
